<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="sample"></div>
    <form id="post-title">
        <input type="text" name="title">
        <textarea name="body" id="post-body"></textarea>
        <input type="submit" value="send" id="form-post">
    </form>

    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="crossorigin="anonymous"></script>
    <script>


        // let url = 'https://jsonplaceholder.typicode.com/users/1';
        // $.get(url, function(data){
        //     $('#sample').text(data.email);
        //     console.log(data);
        // });



        // $('form').submit(function(event){
        //     event.preventDefault();
        //     let new_post = {};
        //     new_post.title = $('#post-title').val();
        //     new_post.body = $('#post-body').val();
        //     $.post('https://jsonplaceholder.typicode.com/posts', new_post, function(response){
        //         console.log(response);
        //     });
        // });


        // $('form').submit(function(event){
        //     event.preventDefault();
        //     let frm = event.target;
        //     let newObj = new FormData(frm);
        //     for(let [name, value] of newObj){
        //         console.log(name + " " + value);
        //     }
        // });


         $('form').submit(async function(event){
            event.preventDefault();
            let frm = event.target;
            let newObj = {};
            newObj.title = $('#post-title').val();
            newObj.body = $('#post-body').val();
            console.log(newObj);
            let response = await fetch('https://jsonplaceholder.typicode.com/posts', 
            {
                method: 'POST',
                body: newObj,

            });
            console.log(await response.status);
        });



        // const posts = await fetch('http://insta.com', {
        //     method: 'POST',
        //     body: data
        // });

    </script>
    
</body>
</html>